@page
@model Examen_certifiant_BLOC3C__Leveil_John.Areas.Identity.Pages.Account.Manage.ReservationModel
@{
    ViewData["Title"] = "Réservation";
    ViewData["ActivePage"] = ManageNavPages.Reservation;
}

@if (Model.Reservations != null && Model.Reservations.Any())
{
    <h2>Dernières réservations</h2>
    <div class="col-md-12 text-center">
        <div class="row">
            @foreach (var reservation in Model.Reservations)
            {
                <div class="col-lg-4 col-md-6 p-3">
                    <div class="card bg-light text-center mx-auto">
                        <div class="card-body p-4">
                            <h2>@reservation.Offre.TypeOffre</h2> <!-- Affiche le type d'offre -->
                            <hr>
                            <img class="img-fluid img-thumbnail" style="max-width:100%;height: auto;max-height: 100%;" src="data:image/png;base64,@Convert.ToBase64String(reservation.QrCodeImageData)" alt="QR Code">

                            <ul class="list-unstyled my-3">
                                <li class="mb-1">@reservation.Offre.Description</li> <!-- Affiche la description de l'offre -->
                            </ul>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>
}
else
{
    <p>Aucune réservation trouvée.</p>
}

@section Scripts {
    <partial name="_ValidationScriptsPartial" />
}
